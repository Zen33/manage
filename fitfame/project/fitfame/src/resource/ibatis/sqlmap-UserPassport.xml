<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="UserPassport">
	<typeAlias alias="UserPassport" type="fitfame.po.UserPassport" />

	<select id="checkUserPassport" resultClass="java.lang.String"
		parameterClass="java.util.Map">
		select uid from user_passport where pw = #pw# and tel =
		#tel#
	</select>
	
	<select id="getUserPassport" resultClass="UserPassport">
		select * from user_passport where uid = #value#
	</select>

	<select id="ifUserPassportExist" resultClass="java.lang.String">
		select uid from user_passport where tel = #tel#
	</select>
	
	<insert id="insertUserPassport" parameterClass="UserPassport">
		insert into
		user_passport values (#uid#, #pw#, #tel#)
	</insert>

	<update id="updateUserPassport" parameterClass="UserPassport">
		update user_passport
		<dynamic prepend="SET ">
			<isNotEmpty property="pw" prepend=","><![CDATA[ pw=#pw# ]]></isNotEmpty>
		</dynamic>
		<dynamic prepend="WHERE">
			uid = #uid#
		</dynamic>
	</update>
</sqlMap>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="CourseMember">
	<typeAlias alias="CourseMember" type="fitfame.po.CourseMember" />

	<select id="getCourseMemberList" resultClass="CourseMember">
		select * from
		course_member where cid = #value#
	</select>
	
	<select id="getCourseMember" parameterClass="CourseMember" resultClass="CourseMember">
		select * from
		course_member where cid = #cid# and uid = #uid#
	</select>
	
	<select id="getCourseMembers" resultClass="fitfame.po.CourseCalendar">
		select course_calendar.id, course_calendar.cid, course_calendar.sid, course_calendar.stype, course_calendar.cdate, 
		course_calendar.minutes, course_calendar.published, course_calendar.maxlimit, course_calendar.sign, course_calendar.intro from
		course_member inner join course_calendar on  course_member.uid = #value# and course_member.cid = course_calendar.id 
		order by cdate asc
	</select>

	<insert id="insertCourseMember" parameterClass="CourseMember">
		insert into course_member values (#cid#, #uid#)
	</insert>

	<delete id="deleteCourseMember" parameterClass="CourseMember">
		delete from course_member where cid = #cid# and uid = #uid#
	</delete>
</sqlMap>
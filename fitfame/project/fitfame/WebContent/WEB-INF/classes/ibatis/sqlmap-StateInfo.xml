<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<sqlMap namespace="StateInfo">
	<typeAlias alias="StateInfo" type="fitfame.po.StateInfo" />

	<select id="getStateInfo" resultClass="StateInfo">
		select * from state_info where uid = #value#
	</select>
	
	<insert id="insertStateInfo" parameterClass="StateInfo">
		insert into state_info values (#uid#, #reply#, #comment#)
	</insert>
	
	<delete id="deleteStateInfo" parameterClass="StateInfo">
		delete from state_info where where uid = #uid#
	</delete>
	
	<update id="updateStateInfo" parameterClass="StateInfo">
	update state_info
	<dynamic prepend="SET ">
			<isNotEqual property="reply" compareValue="-1" prepend=","><![CDATA[ reply=#reply# ]]></isNotEqual>
			<isNotEqual property="comment" compareValue="-1" prepend=","><![CDATA[ comment=#comment# ]]></isNotEqual>
    </dynamic>
	<dynamic prepend="WHERE">
		 uid = #uid#
	</dynamic>
	</update>
</sqlMap>